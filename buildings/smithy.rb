# Represents a Smithy
class Smithy < Building
  MAX_LEVEL = 20
  BASE_BUILD_TIME = 100
  STAFLE = [
    19, 4, 4, 6, 6, 8, 10, 11, 14,
    16, 20, 23, 28, 34, 41, 49, 58,
    71, 84, 101
  ]
  BUILD_REQ = { headquaters: 5, barracks: 1 }
  NEEDS = {
    wood: [
      220, 277, 349, 440, 555, 699, 880, 1109, 1398, 1761, 2219, 2796, 3523,
      4439, 5593, 7047, 8879, 11_187, 14_096, 17_761
    ],
    clay: [
      180, 230, 293, 373, 476, 606, 773, 986, 1257, 1603, 2043, 2605, 3322,
      4236, 5400, 6885, 8779, 11_193, 14_271, 18_196
    ],
    iron: [
      240, 302, 381, 480, 605, 762, 960, 1210, 1525, 1921, 2421, 3050, 3843,
      4842, 6101, 7687, 9686, 12_204, 15_377, 19_375
    ],
    pop: [
      20, 3, 4, 5, 5, 7, 7, 9, 10, 12, 14, 16, 20, 22, 26, 31, 36, 42, 49, 57
    ]
  }

  FACTOR = [
    91, 83, 75, 68, 62, 56, 51, 47, 42, 39, 35, 32, 29, 26, 24, 22, 20, 18, 16, 15
  ]

  def time_factor
    FACTOR[@level - 1] / 100.0
  end
end
